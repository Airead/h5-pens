<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8 />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../../lib/d3/d3.js"></script>
    <script src="./mcolors.js"></script>
    <title>test d3</title>
    <style>
        html,
        body {
            height: 100%;
        }
        
        body {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        path {
            fill: none;
            stroke: white;
        }
        
        svg {
            width: 610px;
            height: 610px;
        }
    </style>
</head>

<body>
    <svg>
    </svg>
    <script>
        var line = d3.line()
            .x(function (d) {
                return d;
            })
            .y(function (d) {
                return Math.random(1) * 600;
            });

        var data = dup(1, 16);
        // data = [1,3,2,4,8,5,6]
        var arcs = d3.pie().sort(null)(data);

        var colors = genColors();

        var arc = d3.arc()
            .innerRadius(160)
            .outerRadius(300)
            .padAngle(0.03);

        d3.select('svg').append('g')
            .attr('transform', 'translate(305, 305) rotate(-11.25)')
            .selectAll('path')
            .data(arcs)
            .enter().append('path')
            .attr('d', function (d) {
                console.log('d', d);
                return arc(d);
            })
            .attr('style', function (d, i) {
                return 'fill:' + colors[i % colors.length];
            });

        function dup(value, number) {
            var arr = [];

            if (number > 0) {
                for (var i = 0; i < number; i++) {
                    arr.push(value);
                }
            }

            return arr;
        }

        function genColors() {
            var colorNames = [
                'red', 'deepOrange', 'orange', 'amber', 'yellow', 'lime', 'lightGreen', 'green',
                'steal', 'cyan', 'lightBlue', 'blue', 'indigo', 'deepPurple', 'purple', 'pink'
            ];

            var colors = [];
            for (var i = 0; i < colorNames.length; i++) {
                var n = colorNames[i];
                colors.push(colorDefs[n]['500']);
            }

            return colors;
        }
    </script>
</body>

</html>